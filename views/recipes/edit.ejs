<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <title>Editing <%= recipe.name %></title>
</head>
<body>
    <%- include('../partials/_navbar.ejs') %>
    <h1>Edit <% recipe.name %></h1>
    <p>Link to all Recipes</p>
    <p>Search (loop) for Recipe by Category and MealType</p>

    <form action="/users/<%= user._id %>/recipes/<%= recipe._id %>?_method=PUT" method="POST">
        <label for="name">Name:</label>
        <input type="text" name="name" id="name" value="<%= recipe.name %>">

        <label for="category">Category:</label>
        <select id="category" name="category">
            <option value="appetizer"<%= recipe.category === "appetizer" ? "selected" : "" %>>Appetizer</option>
            <option value="soup"<%= recipe.category === "soup" ? "selected" : "" %>>Soup</option>
            <option value="salad"<%= recipe.category === "salad" ? "selected" : "" %>>Salad</option>
            <option value="entree"<%= recipe.category === "entree" ? "selected" : "" %>>Entree</option>
            <option value="dessert"<%= recipe.category === "dessert" ? "selected" : "" %>>Dessert</option>
        </select>

        <label for="mealType">Meal Type:</label>
        <select id="mealType" name="mealType">
            <option value="breakfast"<%= recipe.mealType === "breakfast" ? "selected" : "" %>>Breakfast</option>
            <option value="lunch"<%= recipe.mealType === "lunch" ? "selected" : "" %>>Lunch</option>
            <option value="dinner"<%= recipe.mealType === "dinner" ? "selected" : "" %>>Dinner</option>
        </select>

        <label for="ingredients">Ingredients:</label>
        <textarea name="ingredients" id="ingredients"><%= recipe.ingredients %></textarea>

        <label for="instructions">Instructions:</label>
        <textarea name="instructions" id="instructions"><%= recipe.instructions %></textarea>

        <label for="image">Image</label>
        <input type="text" name="image" value="<%= recipe.image %>">

        <button type="submit">Update</button>
    </form>

</body>
</html>